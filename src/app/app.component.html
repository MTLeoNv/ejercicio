<header class="custom-navbar">
  <a href="https://evaluacionmt.netlify.app/" class="logo"><i class="ri-verified-badge-line"></i><span>EVALUACIÓN</span></a>
        <ul class="navbar">
            <li><a href="https://evaluacionmt.netlify.app/" class="active">INICIO</a></li>
            <li><a href="https://ejemplomt1.netlify.app/">EJEMPLO 1</a></li>
            <li><a href="https://ejemplomt2.netlify.app/">EJEMPLO 2</a></li>
            <li><a href="https://ejemplomt3.netlify.app/">EJEMPLO 3</a></li>
            <li><a href="https://ejemplomt4.netlify.app/">EJEMPLO 4</a></li>
            <li><a href="https://ejemplomt5.netlify.app/">EJEMPLO 5</a></li>
            <li><a href="https://ejerciciomt.netlify.app/">EJERCICIO</a></li>
        </ul>
</header>

<main>
  <div class="container">
    <h1>Gestor de Tareas</h1>
    <p class="description">
      Este gestor de tareas permite organizar pendientes de manera eficiente. Puede agregar tareas con prioridad (Alta, Media o Baja), 
      editarlas, marcarlas como completadas, eliminarlas individualmente o borrar todas las tareas con un solo clic. 
      Además, el sistema guarda automáticamente tus tareas para que estén disponibles al recargar la página.
    </p>

    <div class="form-group">
      <label for="descripcion">Descripción de la tarea:</label>
      <input type="text" class="form-control" [(ngModel)]="tarea.descripcion" placeholder="Ingrese la tarea" />
    </div>
    <div class="form-group">
      <label for="prioridad">Prioridad:</label>
      <select class="form-control" [(ngModel)]="tarea.prioridad">
        <option value="Alta">Alta</option>
        <option value="Media">Media</option>
        <option value="Baja">Baja</option>
      </select>
    </div>
    <button class="btn btn-primary" (click)="agregarTarea()">Agregar</button>
    <button class="btn btn-warning" [disabled]="!modoEdicion" (click)="actualizarTarea()">Actualizar</button>

    <h3 class="mt-4">Lista de Tareas</h3>
    <table class="table table-dark table-hover">
      <thead>
        <tr>
          <th>Descripción</th>
          <th>Prioridad</th>
          <th>Estado</th>
          <th>Acciones</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let item of listaTareas; let i = index">
          <td>{{ item.descripcion }}</td>
          <td>{{ item.prioridad }}</td>
          <td>
            <button class="btn btn-sm" [ngClass]="{'btn-success': item.completada, 'btn-secondary': !item.completada}"
              (click)="cambiarEstado(i)">
              {{ item.completada ? 'Completada' : 'Pendiente' }}
            </button>
          </td>
          <td>
            <button class="btn btn-info" (click)="editarTarea(i)">Editar</button>
            <button class="btn btn-danger" (click)="eliminarTarea(i)">Eliminar</button>
          </td>
        </tr>
      </tbody>
    </table>
    <button class="btn btn-danger mt-4" (click)="eliminarTodasTareas()">Eliminar Todas</button>
    <h4 class="mt-3">Tareas Pendientes: {{ contarPendientes() }}</h4>
  </div>
</main>

<router-outlet></router-outlet>
